{% extends "base.html" %}
{% load static %}
{% block content %}
{% if not optimized_results %}
<div class = "upload">

    <h1 class="sid-text">Upload a 3D Model File (STL or OBJ)</h1>
<form action="/upload" method="POST" enctype="multipart/form-data">
    {% csrf_token %}
    <input class="start-button" type="file" id="file" name="myfile" accept=".obj,.stl" required>
    <br>
    <input class = "start-button" type="submit" value="Submit">
</form>

</div>
{% endif %}

{% if optimized_results %}
<div class = "result">
    <div>
    <h2 class="heading-text">Optimization Results</h2>
    <p class="sid-text"><strong>Original Dimensions:</strong>
        <ul>
            <li class="sid-text">Length : {{ optimized_results.original_dimensions.length }}</li>
            <li class="sid-text">Width: {{ optimized_results.original_dimensions.width }}</li>
            <li class="sid-text">Height: {{ optimized_results.original_dimensions.height }}</li>
        </ul>
    </p>
    <p class="sid-text"><strong>Original Volume:</strong> {{ optimized_results.original_volume }}</p>
    <p class="sid-text"><strong>Optimized Radius:</strong> {{ optimized_results.optimized_radius }}</p>
    <p class="sid-text"><strong>Optimized Height:</strong> {{ optimized_results.optimized_height }}</p>
    <p class="sid-text"><strong>Original Surface Area:</strong> {{ optimized_results.original_surface_area }}</p>
    <p class="sid-text"><strong>Optimized Surface Area:</strong> {{ optimized_results.optimized_surface_area }}</p>

    {% if file_path %}
    <a class="start-button" href="{% url 'download_file' file_path %}">Download Optimized File</a>
    {% endif %}
</div>
</div>
{% endif %}

{% endblock %}
